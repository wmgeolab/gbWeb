<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>geoBoundaries</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<!-- Scripts -->

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9276981-3"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-9276981-3');
	</script>

	<!-- Global site tag (gtag.js) - Google Ads: 984002936 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-984002936"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-984002936');
</script>
<!-- Event snippet for Website traffic conversion page -->
<script>
	gtag('event', 'conversion', {'send_to': 'AW-984002936/BycZCJ_8kdMBEPjimtUD'});
  </script>
  

</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Main -->
		<div id="main">
			<div class="inner">

				<!-- Header -->
				<header id="header">
					<span class="logo"><a href="index.html"><strong>geoBoundaries</strong></a> by the <a
							href="http://geolab.wm.edu">William & Mary geoLab</a></span>
					<ul class="icons">
						<li><a href="https://twitter.com/wmgeolab?lang=en" class="icon brands fa-twitter"><span
									class="label">Twitter</span></a></li>
						<li><a href="https://www.linkedin.com/company/51598643/"
								class="icon brands fa-linkedin-in"><span class="label">LinkedIn</span></a></li>
					</ul>
				</header>

				<!-- Banner -->
				<section style="padding:2em 0 2em 0 !important;">
					<header class="main">
						<h1>API & Archival Access</h1>
					</header>
					
					<h2>Web-based Archival Access</h2>
					<p> Since geoBoundaries 3.0, file access has been standardized on the github platform. To download
						a file from any release, you can navigate to our <a href="https://github.com/wmgeolab/geoBoundaries/releases/">releases</a> page, 
						and choose the release you are interested in retrieving files from.  Our first public release, geoBoundaries 2.0, is available
						online through the <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/PGAIQY">Harvard Dataverse</a>.
					</p> 
					
					<h2>API Access to geoBoundaries</h2>
					<b style="color:red">NOTE: The legacy geoBoundaries API (located at https://www.geoboundaries.org/gbRequest.html) will be deprecated with the release of geoBoundaries 6.0,
						which is expected to be in or around May of 2023.  
					</b>
					<br />
					<br />
					Information on every geoBoundary - current and past - can be retrieved through a simple query; a
					JSON object is returned. We provide two endpoints for users.
					<br /> 
					<br />
					<b>To find information on the most up-to-date boundaries available:</b>
					<pre><code>https://www.geoboundaries.org/api/current/gbOpen/[3-LETTER-ISO-CODE]/[ADM-LEVEL]/</code></pre>
					<p>Users can also enter the special phrase "ALL" for either "[ADM-LEVEL]" or "[3-LETTER-ISO-CODE]" to get a multi-boundary return. Each requested boundary
						returns all metadata available for that boundary in the gBOpen release, including a link to both the full-resolution, large-file size
						and the minor simplification (~5%), small-file size versions.  In cases where a gbHumanitarian or gbAuthoritative release is available
						for a boundary, that information is provided in sub-objects within the returned json. Users can additionally replace "gbOpen" with either 
						"gbAuthoritative" or "gbHumanitarian" to filter results to only include boundaries from those two respective releases.  Finally, "current" can
						be replaced with a major version to retrieve information specific to that major release (e.g., "v4" will provide the IDs of v4 boundaries, which 
						can be used with the below historic API to retrieve the boundary metadata for a specific version).
					</p>
					
					<b>To find information on any geoBoundary, past or present, based on the geoBoundary ID:</b>
					<pre><code>https://www.geoboundaries.org/api/gbID/[geoBoundaryID]/</code></pre>
					<p></p>Starting with the geoBoundaries 4.0 release, all geoBoundaries can be referenced by ID using the above API.  
					   The returned elements are identical to those in the /current/ API endpoint.  
					</p>

					Of note, to facilitate speed of queries against the API, all JSONs are pre-cached and can be exported in bulk by cloning 
					the <a href="https://github.com/wmgeolab/gbWeb">geoBoundaries Website repository</a> for local use.


					</p>
					<div id="tab-container" class="tab-container">
						<ul class='etabs'>
							<li class='tab'><a href="#tabs1-html">Loading with Python</a></li>
							<li class='tab'><a href="#tabs1-js">Visualizing with Python</a></li>
							<li class='tab'><a href="#tabs1-css">Generic Example</a></li>
						</ul>

						<div id="tabs1-html" class="box">
							<!-- HTML generated using hilite.me -->
							<div
								style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
								<pre style="margin: 0; line-height: 125%">	<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">json</span>
	<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">requests</span>
	r <span style="color: #666666">=</span> requests<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;https://www.geoboundaries.org/gbRequest.html?ISO=EGY&amp;ADM=ADM1&quot;</span>)
	dlPath <span style="color: #666666">=</span> r<span style="color: #666666">.</span>json()[<span style="color: #666666">0</span>][<span style="color: #BA2121">&#39;gjDownloadURL&#39;</span>]
	geoBoundary <span style="color: #666666">=</span> requests<span style="color: #666666">.</span>get(dlPath)<span style="color: #666666">.</span>json()
	<span style="color: #008000">print</span>(geoBoundary[<span style="color: #BA2121">&quot;features&quot;</span>][<span style="color: #666666">1</span>][<span style="color: #BA2121">&quot;geometry&quot;</span>])
</pre>
							</div>


							<b>Returns the geometric shape(s) representing one of the administrative boundaries:</b>
							<!-- HTML generated using hilite.me -->
							<div
								style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
								<pre style="margin: 0; line-height: 125%">{<span style="color: #aa5500">&#39;coordinates&#39;</span>: [[[
    [<span style="color: #009999">34.52329565</span>, <span style="color: #009999">27.966960461223056</span>],
    [<span style="color: #009999">34.5237859</span>, <span style="color: #009999">27.9668325</span>],
    ...
   ]]],
 <span style="color: #aa5500">&#39;type&#39;</span>: <span style="color: #aa5500">&#39;MultiPolygon&#39;</span>}
</pre>
							</div>

						</div>

						<div id="tabs1-js" class="box">
							<!-- HTML generated using hilite.me -->
							<div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">json</span>
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">requests</span>
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">matplotlib</span> <span style="color: #008800; font-weight: bold">import</span> pyplot <span style="color: #008800; font-weight: bold">as</span> plt

r <span style="color: #333333">=</span> requests<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">&quot;https://www.geoboundaries.org/gbRequest.html?ISO=EGY&amp;ADM=ADM1&quot;</span>)
dlPath <span style="color: #333333">=</span> r<span style="color: #333333">.</span>json()[<span style="color: #0000DD; font-weight: bold">0</span>][<span style="background-color: #fff0f0">&#39;gjDownloadURL&#39;</span>]
geoBoundary <span style="color: #333333">=</span> requests<span style="color: #333333">.</span>get(dlPath)<span style="color: #333333">.</span>json()

<span style="color: #888888">#Matplotlib Visualization</span>
fig <span style="color: #333333">=</span> plt<span style="color: #333333">.</span>figure(<span style="color: #0000DD; font-weight: bold">1</span>, figsize<span style="color: #333333">=</span>(<span style="color: #0000DD; font-weight: bold">5</span>,<span style="color: #0000DD; font-weight: bold">5</span>), dpi<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">90</span>)
axs <span style="color: #333333">=</span> fig<span style="color: #333333">.</span>add_subplot(<span style="color: #0000DD; font-weight: bold">111</span>)
axs<span style="color: #333333">.</span>set_title(<span style="background-color: #fff0f0">&#39;Example Visualization&#39;</span>)

<span style="color: #888888">#Accounting for Multipolygon Boundaries</span>
<span style="color: #008800; font-weight: bold">for</span> boundary <span style="color: #000000; font-weight: bold">in</span> geoBoundary[<span style="background-color: #fff0f0">&quot;features&quot;</span>]:
    <span style="color: #008800; font-weight: bold">if</span> boundary[<span style="background-color: #fff0f0">&quot;geometry&quot;</span>][<span style="background-color: #fff0f0">&#39;type&#39;</span>] <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;MultiPolygon&quot;</span>:
        polys <span style="color: #333333">=</span> boundary[<span style="background-color: #fff0f0">&quot;geometry&quot;</span>][<span style="background-color: #fff0f0">&quot;coordinates&quot;</span>]
        <span style="color: #008800; font-weight: bold">for</span> poly <span style="color: #000000; font-weight: bold">in</span> polys:
            exterior <span style="color: #333333">=</span> poly[<span style="color: #0000DD; font-weight: bold">0</span>]
            xs, ys <span style="color: #333333">=</span> <span style="color: #007020">zip</span>(<span style="color: #333333">*</span>exterior)
            axs<span style="color: #333333">.</span>fill(xs, ys, alpha<span style="color: #333333">=</span><span style="color: #6600EE; font-weight: bold">0.5</span>, fc<span style="color: #333333">=</span><span style="background-color: #fff0f0">&#39;red&#39;</span>, ec<span style="color: #333333">=</span><span style="background-color: #fff0f0">&#39;black&#39;</span>)
    <span style="color: #008800; font-weight: bold">else</span>:
        exterior <span style="color: #333333">=</span> boundary[<span style="background-color: #fff0f0">&quot;geometry&quot;</span>][<span style="background-color: #fff0f0">&quot;coordinates&quot;</span>][<span style="color: #0000DD; font-weight: bold">0</span>]
        xs, ys <span style="color: #333333">=</span> <span style="color: #007020">zip</span>(<span style="color: #333333">*</span>exterior)
        axs<span style="color: #333333">.</span>fill(xs, ys, alpha<span style="color: #333333">=</span><span style="color: #6600EE; font-weight: bold">0.5</span>, fc<span style="color: #333333">=</span><span style="background-color: #fff0f0">&#39;red&#39;</span>, ec<span style="color: #333333">=</span><span style="background-color: #fff0f0">&#39;black&#39;</span>)

fig<span style="color: #333333">.</span>savefig(<span style="background-color: #fff0f0">&quot;example.png&quot;</span>)
</pre>
							</div>

							<b>Creates this figure (named example.png):</b>
							<img src="images/example.png">

							<!-- content -->
						</div>
						<div id="tabs1-css" class="box">
							All requests to our API will return either an error (i.e., no file exists for the parameters
							passed to us) or a valid JSON object. A valid call and example are included here.<br />
							<b>Generic Query Example:</b>
							<pre><code>https://www.geoboundaries.org/gbRequest.html?ISO=USA&ADM=ADM1&TYP=SSCU&VER=3_0_0</code></pre>
							<b>Response Example:</b>
							<!-- HTML generated using hilite.me -->
							<div
								style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
								<pre style="margin: 0; line-height: 125%">[
    {
        &quot;boundaryID&quot;: <span style="color: #0000FF">&quot;USA-ADM1-3_0_0-G618&quot;</span>,
        &quot;boundaryISO&quot;: <span style="color: #0000FF">&quot;USA&quot;</span>,
        &quot;boundaryYear&quot;: <span style="color: #0000FF">&quot;2017.0&quot;</span>,
        &quot;boundaryType&quot;: <span style="color: #0000FF">&quot;ADM1&quot;</span>,
        &quot;boundarySource-1&quot;: <span style="color: #0000FF">&quot;US Census&quot;</span>,
        &quot;boundarySource-2&quot;: <span style="color: #0000FF">&quot;&quot;</span>,
        &quot;boundaryLicense&quot;: <span style="color: #0000FF">&quot;Open Data Commons Open Database License 1.0&quot;</span>,
        &quot;licenseDetail&quot;: <span style="color: #0000FF">&quot;&quot;</span>,
        &quot;licenseSource&quot;: <span style="color: #0000FF">&quot;https:\/\/www.census.gov\/about\/policies\/open-gov\/open-data.html&quot;</span>,
        &quot;boundarySourceURL&quot;: <span style="color: #0000FF">&quot;https:\/\/www.census.gov\/geographies\/mapping-files\/time-series\/geo\/carto-boundary-file.html&quot;</span>,
        &quot;boundaryUpdate&quot;: <span style="color: #0000FF">&quot;2020-05-25&quot;</span>,
        &quot;downloadURL&quot;: <span style="color: #0000FF">&quot;https:\/\/geoboundaries.org\/data\/geoBoundariesSSCU-3_0_0\/USA\/ADM1\/geoBoundariesSSCU-3_0_0-USA-ADM1-all.zip&quot;</span>,
        &quot;gjDownloadURL&quot;: <span style="color: #0000FF">&quot;https:\/\/geoboundaries.org\/data\/geoBoundariesSSCU-3_0_0\/USA\/ADM1\/geoBoundariesSSCU-3_0_0-USA-ADM1.geojson&quot;</span>,
        &quot;imagePreview&quot;: <span style="color: #0000FF">&quot;https:\/\/geoboundaries.org\/data\/geoBoundariesSSCU-3_0_0\/USA\/ADM1\/geoBoundariesPreviewSSCU-3_0_0-USA-ADM1.png&quot;</span>
    }
]
</pre>
							</div>


						</div>
					</div>
				</section>


			</div>
		</div>


		<!-- Sidebar -->
		<div id="sidebar" , class="inactive">
			<div class="inner">
								<!-- Menu -->
								<nav id="menu" style="padding:2em 0 0em 0 !important; margin:0em 0em 0em 0em;">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Home</a></li>
										<li><a href="index.html#getdata">Download Data</a></li>
										<li><a href="geoContrast.html">View Data</a></li>
										<li><a href="api.html">API & Archive</a></li>
										<li><a href="index.html#citation">Requirements for Use</a></li>
										<li><a href="https://github.com/wmgeolab/geoBoundaries/issues">Known Issues</a></li>
										<li><a href="https://github.com/wmgeolab/geoBoundaries#getting-involved">Get Involved</a></li>
										<li><a href="https://github.com/wmgeolab/geoBoundaries#contributors-">We Made This</a></li>
									</ul>
									<br />
									<div id="mc_embed_signup">
										<form
											action="https://geoboundaries.us18.list-manage.com/subscribe/post?u=fa7c8b27d1a61c13a67dc3f25&amp;id=1415921471"
											method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form"
											class="validate" target="_blank" novalidate>
											<div id="mc_embed_signup_scroll">
												<div class="mc-field-group">
													<label style="margin-bottom:0em;">Subscribe to our Announcement List:</label>
													<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
												</div>
												<div id="mce-responses" class="clear">
													<div class="response" id="mce-error-response" style="display:none"></div>
													<div class="response" id="mce-success-response" style="display:none"></div>
												</div>
												<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
												<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
														name="b_fa7c8b27d1a61c13a67dc3f25_1415921471" tabindex="-1" value=""></div>
												<div class="clear" style="margin-top:5px;"><input type="submit" value="Submit Email" name="subscribe"
														id="mc-embedded-subscribe" class="button"></div>
											</div>
										</form>
									</div>
								</nav>

				<!-- Footer -->
				<footer id="footer">
					<p class="copyright">Design: <a href="https://html5up.net">HTML5 UP</a>. <tiny>With respect to works
							on or made available through download from the this website, we make no representations or
							warranties—express, implied, or statutory—as to the validity, accuracy, completeness, or
							fitness for a particular purpose; nor represent that use of such works would not infringe
							privately owned rights; nor assume any liability resulting from use of such works; and shall
							in no way be liable for any costs, expenses, claims, or demands arising out of use of such
							works.</tiny>
					</p>
				</footer>

			</div>
		</div>



	</div>


	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script src="assets/js/jquery.easytabs.js" type="text/javascript"></script>

	<script type="text/javascript">
		$(document).ready(function () { $('#tab-container').easytabs(); });
	</script>
</body>

</html>
